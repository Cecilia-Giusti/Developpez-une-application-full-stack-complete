<div>
    <app-header></app-header>
    <section>
    <h1>Profil utilisateur</h1>
    <app-error-message [errorMessage]="errorMessage" ></app-error-message>
    <div *ngIf="validateMessage" class="validate-message">
        {{ validateMessage }}
      </div>
    <form action="">
        <form #profileForm="ngForm" (ngSubmit)="submit(profileForm)">
            <mat-form-field>
                <mat-label>Nom d'utilisateur</mat-label>
                <input matInput placeholder="Nom d'utilisateur" name="username" [(ngModel)]="user.username" required
                    #username="ngModel">
                <mat-error *ngIf=" username.errors?.['required']">
                    Le nom d'utilisateur est requis.
                </mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Adresse e-mail</mat-label>
                <input matInput type="email" placeholder="Adresse e-mail" name="email" [(ngModel)]="user.email" required
                    email #email="ngModel">
                <mat-error *ngIf=" email.errors?.['required']">
                    L'adresse e-mail est requise.
                </mat-error>
                <mat-error *ngIf=" email.errors?.['email']">
                    L'adresse e-mail n'est pas valide.
                </mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Mot de passe</mat-label>
                <input matInput  type="password" placeholder="Mot de passe" name="password" [(ngModel)]="user.password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" #password="ngModel">
                <mat-error *ngIf=" password.errors?.['pattern']">
                  Le mot de passe doit comporter au moins 8 caractÃ¨res, dont un chiffre, une lettre majuscule et une lettre minuscule.
                </mat-error>
              </mat-form-field>

            <button mat-raised-button color="primary" type="submit" [disabled]="profileForm.invalid">Sauvegarder</button>
        </form>
    </form>

   <app-logout></app-logout>

   <app-subscription></app-subscription>
</section>
</div>